<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Webkamera</title>
</head>
<body style="margin: 0">

<div style="text-align: center; padding-top: 50vh">
    <h2 id="instructions">Povolte této stránce přístup k Vaší webkameře.</h2>
</div>

<script>
    const instructions = document.getElementById("instructions");

    navigator.mediaDevices.getUserMedia({video: true})
        .then(stream => {
            let camWidth = stream.getVideoTracks()[0].getSettings().width;
            let camHeight = stream.getVideoTracks()[0].getSettings().height;
            camWidth = screen.width < camWidth ? screen.width : camWidth;
            camHeight = screen.height < camHeight ? screen.height : camHeight;
            instructions.innerHTML = `<a onclick="window.open('/webcam2.html','Webkamera','width=${camWidth},height=${camHeight}')" href="#">Klikněte sem.</a>`;
        })
        .catch(e => instructions.innerText = "Došlo k chybě.");

</script>
</body>
</html>
